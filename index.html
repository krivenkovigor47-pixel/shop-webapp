<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>Premium Shop</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}:root{--bg:#0f0f1a;--bg2:#1a1a2e;--text:#fff;--hint:#888;--accent:linear-gradient(135deg,#667eea,#764ba2);--accent-solid:#667eea;--green:linear-gradient(135deg,#4ade80,#22c55e);--green-solid:#22c55e;--red:linear-gradient(135deg,#ff6b6b,#ee5a6f);--red-solid:#ff6b6b}body.light-theme{--bg:#f5f5f7;--bg2:#ffffff;--text:#1a1a2e;--hint:#666}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;padding-bottom:100px;overflow-x:hidden;transition:background .3s,color .3s}.header{background:var(--accent);padding:20px;text-align:center;box-shadow:0 4px 20px rgba(102,126,234,.4);position:relative;overflow:hidden}.header::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);animation:hShine 4s ease-in-out infinite}@keyframes hShine{0%{transform:translateX(-100%) rotate(45deg)}100%{transform:translateX(100%) rotate(45deg)}}.header h1{font-size:24px;margin-bottom:4px;animation:fDD .6s cubic-bezier(.68,-.55,.265,1.55);text-shadow:0 2px 10px rgba(0,0,0,.2)}@keyframes fDD{from{opacity:0;transform:translateY(-20px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.header-buttons{position:absolute;top:10px;right:10px;display:flex;gap:8px}.header-btn{width:36px;height:36px;border:none;border-radius:50%;background:rgba(255,255,255,.2);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s;backdrop-filter:blur(10px)}.favorites-btn{position:absolute;top:10px;left:10px}.favorites-count{position:absolute;top:-4px;right:-4px;background:var(--red-solid);color:#fff;width:18px;height:18px;border-radius:50%;font-size:10px;display:flex;align-items:center;justify-content:center;font-weight:700;animation:popIn .3s ease}@keyframes popIn{0%{transform:scale(0)}70%{transform:scale(1.2)}100%{transform:scale(1)}}.categories{display:flex;gap:10px;padding:16px 12px;overflow-x:auto;-webkit-overflow-scrolling:touch}.categories::-webkit-scrollbar{height:4px}.categories::-webkit-scrollbar-thumb{background:var(--accent-solid);border-radius:2px}.cat-btn{padding:10px 18px;border:none;border-radius:20px;background:var(--bg2);color:var(--text);font-size:13px;font-weight:500;white-space:nowrap;cursor:pointer;transition:all .4s cubic-bezier(.68,-.55,.265,1.55);box-shadow:0 2px 8px rgba(0,0,0,.15);flex-shrink:0}.cat-btn.active{background:var(--accent);color:#fff;box-shadow:0 4px 16px rgba(102,126,234,.5);transform:scale(1.08);animation:catP 2s infinite}@keyframes catP{0%,100%{box-shadow:0 4px 16px rgba(102,126,234,.5)}50%{box-shadow:0 4px 24px rgba(102,126,234,.7)}}.search{padding:0 12px 12px}.search input{width:100%;padding:12px 16px;border:2px solid transparent;border-radius:12px;background:var(--bg2);color:var(--text);font-size:14px;outline:none;transition:all .3s;box-shadow:0 2px 8px rgba(0,0,0,.1)}.search input:focus{border-color:var(--accent-solid);box-shadow:0 4px 16px rgba(102,126,234,.3)}.products{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;padding:0 12px}.product{background:var(--bg2);border-radius:16px;padding:12px;cursor:pointer;position:relative;transition:all .4s cubic-bezier(.25,.46,.45,.94);box-shadow:0 4px 12px rgba(0,0,0,.1);animation:pApp .6s cubic-bezier(.68,-.55,.265,1.55) backwards;overflow:hidden}@keyframes pApp{from{opacity:0;transform:translateY(40px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.product:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 16px 40px rgba(0,0,0,.2)}.product-favorite{position:absolute;top:8px;right:8px;z-index:2;width:32px;height:32px;border:none;border-radius:50%;background:rgba(0,0,0,.5);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(8px);transition:all .4s}.product-favorite.active{background:var(--red-solid);animation:hBeat .6s}@keyframes hBeat{0%{transform:scale(1)}30%{transform:scale(1.3)}100%{transform:scale(1)}}.product-img{width:100%;height:120px;object-fit:cover;border-radius:12px;margin-bottom:10px;transition:all .5s}.product:hover .product-img{transform:scale(1.08)}.product-thumbs{display:flex;gap:6px;margin:8px 0}.product-thumb{width:30px;height:30px;border-radius:6px;object-fit:cover;opacity:.6}.product-thumbs-more{width:30px;height:30px;border-radius:6px;background:var(--bg);display:flex;align-items:center;justify-content:center;font-size:10px;color:var(--hint);font-weight:600}.product-name{font-size:13px;font-weight:600;margin-bottom:8px;line-height:1.3;min-height:34px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.product-price{font-size:16px;font-weight:700;color:var(--text)}.product-discount-badge{position:absolute;top:8px;left:8px;background:var(--red);color:#fff;padding:4px 10px;border-radius:8px;font-size:10px;font-weight:700;z-index:2}.product-prices{display:flex;align-items:center;gap:8px}.product-old-price{font-size:12px;color:var(--hint);text-decoration:line-through}.product-new-price{font-size:16px;font-weight:700;color:var(--green-solid)}.cart-btn{position:fixed;bottom:16px;left:12px;right:12px;background:var(--green);padding:16px;border-radius:16px;display:flex;justify-content:space-between;align-items:center;font-weight:600;cursor:pointer;box-shadow:0 8px 32px rgba(34,197,94,.5);z-index:100;animation:cApp .6s cubic-bezier(.68,-.55,.265,1.55)}@keyframes cApp{from{opacity:0;transform:translateY(50px) scale(.8)}to{opacity:1;transform:translateY(0) scale(1)}}#cart-count{background:#fff;color:var(--green-solid);width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700}.ask-btn{position:fixed;bottom:80px;right:12px;width:60px;height:60px;background:var(--accent);border:none;border-radius:50%;color:#fff;font-size:26px;cursor:pointer;box-shadow:0 8px 32px rgba(102,126,234,.5);z-index:99;display:flex;align-items:center;justify-content:center;transition:all .4s;animation:askF 3s infinite}@keyframes askF{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}.ask-btn.with-cart{bottom:90px}.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000}.modal.active{display:block}.modal-bg{position:absolute;width:100%;height:100%;background:rgba(0,0,0,.7);backdrop-filter:blur(8px)}.modal-box{position:absolute;bottom:0;left:0;right:0;background:var(--bg);border-radius:28px 28px 0 0;max-height:90vh;overflow-y:auto;padding:24px;animation:mSU .5s cubic-bezier(.68,-.55,.265,1.55)}@keyframes mSU{from{transform:translateY(100%)}to{transform:translateY(0)}}.modal-close{position:absolute;top:16px;right:16px;width:36px;height:36px;border:none;border-radius:50%;background:var(--bg2);color:var(--text);font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:10}.modal-img{width:100%;height:280px;object-fit:cover;border-radius:16px}.modal-gallery{position:relative;margin-bottom:20px}.gallery-nav{position:absolute;top:50%;transform:translateY(-50%);width:36px;height:36px;border:none;border-radius:50%;background:rgba(0,0,0,.5);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:5}.gallery-nav.prev{left:8px}.gallery-nav.next{right:8px}.modal-price-box{background:var(--accent);border-radius:16px;padding:20px;text-align:center;margin:16px 0}.modal-new{font-size:32px;font-weight:700}.btn{flex:1;padding:16px;border:none;border-radius:14px;font-size:15px;font-weight:600;cursor:pointer;transition:all .3s}.btn-cart{background:var(--bg2);color:var(--text)}.btn-buy{background:var(--green);color:#fff}.cart-item{display:flex;align-items:center;gap:12px;background:var(--bg2);border-radius:12px;padding:12px;margin-bottom:10px;position:relative}.cart-item img{width:70px;height:70px;border-radius:10px;object-fit:cover}.cart-summary{position:fixed;bottom:0;left:0;right:0;background:var(--bg);padding:16px;border-top:1px solid rgba(255,255,255,.1)}.cart-checkout{width:100%;padding:14px;border:none;border-radius:12px;background:var(--green);color:#fff;font-weight:700;cursor:pointer}.fullscreen-viewer{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:2000;flex-direction:column}.fullscreen-viewer.active{display:flex}.fullscreen-img{max-width:100%;max-height:100%;object-fit:contain;transition:transform .3s}.toast{position:fixed;bottom:100px;left:50%;transform:translateX(-50%);background:var(--bg2);color:var(--text);padding:12px 24px;border-radius:30px;z-index:2000;animation:tIn .3s,tOut .3s 1.7s forwards}@keyframes tIn{from{opacity:0;transform:translateX(-50%) translateY(20px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}@keyframes tOut{to{opacity:0}}.confetti{position:fixed;width:10px;height:10px;top:-10px;z-index:3000;animation:cFall 3s linear forwards}@keyframes cFall{to{transform:translateY(100vh) rotate(720deg);opacity:0}}
</style>
</head>
<body>
<div class="app">
<header class="header">
<h1>üõç Premium Shop</h1>
<p>–¢–æ–≤–∞—Ä—ã –¥–µ—à–µ–≤–ª–µ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤!</p>
<button class="header-btn favorites-btn" onclick="openFavorites()">‚ù§Ô∏è<span class="favorites-count" id="fav-count" style="display:none">0</span></button>
<div class="header-buttons">
<button class="header-btn" onclick="toggleTheme()"><span class="theme-icon">üåô</span></button>
</div>
</header>
<div id="catalog">
<div class="categories" id="categories"></div>
<div class="search"><input type="text" id="search" placeholder="üîç –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..."></div>
<div class="products" id="products"></div>
</div>
<button class="ask-btn" id="ask-btn" onclick="askQuestion()">üí¨</button>
<div class="cart-btn" id="cart-btn" style="display:none" onclick="openCart()">
<span id="cart-count">0</span><span>üõí –ö–æ—Ä–∑–∏–Ω–∞</span><span id="cart-sum">0‚ÇΩ</span>
</div>
<div class="modal" id="modal">
<div class="modal-bg" onclick="closeModal()"></div>
<div class="modal-box" id="modal-box"></div>
</div>
<div class="fullscreen-viewer" id="fullscreen-viewer">
<div style="padding:16px;display:flex;justify-content:space-between;color:#fff">
<div id="fs-counter">1/1</div><button onclick="closeFullscreen()" style="background:0;border:0;color:#fff;font-size:24px">√ó</button>
</div>
<div style="flex:1;display:flex;align-items:center;justify-content:center;overflow:hidden" id="fs-body">
<img id="fs-img" class="fullscreen-img" src="">
</div>
</div>
</div>
<script>
const ADMIN_IDS=[1729711148],CONTACT_USERNAME='SaturnKC';
const PRODUCTS=[
{id:1749700001,name:"üî• –ü–µ—Ä—á–∞—Ç–∫–∏ NIKE THERMO-FIT 2.0 ACADEMY + –ù–û–°–ö–ò –í –ü–û–î–ê–†–û–ö üéÅ",image:"https://cdn.jsdelivr.net/gh/krivenkovigor47-pixel/shop-webapp@main/photo_5433665218002227615_y.jpg",images:["https://cdn.jsdelivr.net/gh/krivenkovigor47-pixel/shop-webapp@main/photo_5433665218002227615_y.jpg","https://cdn.jsdelivr.net/gh/krivenkovigor47-pixel/shop-webapp@main/photo_5435917017815911629_y.jpg","https://cdn.jsdelivr.net/gh/krivenkovigor47-pixel/shop-webapp@main/photo_5433724930932542681_w.jpg","https://cdn.jsdelivr.net/gh/krivenkovigor47-pixel/shop-webapp@main/photo_5433724930932543855_w.jpg","https://cdn.jsdelivr.net/gh/krivenkovigor47-pixel/shop-webapp@main/photo_5433724930932543856_w.jpg","https://cdn.jsdelivr.net/gh/krivenkovigor47-pixel/shop-webapp@main/photo_5433724930932543857_w.jpg","https://cdn.jsdelivr.net/gh/krivenkovigor47-pixel/shop-webapp@main/photo_5433724930932542798_w.jpg","https://cdn.jsdelivr.net/gh/krivenkovigor47-pixel/shop-webapp@main/photo_5433724930932543859_w.jpg","https://cdn.jsdelivr.net/gh/krivenkovigor47-pixel/shop-webapp@main/photo_5433724930932543858_w.jpg","https://cdn.jsdelivr.net/gh/krivenkovigor47-pixel/shop-webapp@main/photo_5433724930932543860_w.jpg"],price:500,discount:0,category:"clothes",description:"üíé –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:\n‚Äî –ú–æ–¥–µ–ª—å: Thermo-Fit 2.0 Academy\n‚Äî –ö–∞—á–µ—Å—Ç–≤–æ: LUX\n‚Äî –†–∞–∑–º–µ—Ä: One size\n‚Äî –ú–∞—Ç–µ—Ä–∏–∞–ª: –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—ã–π —Ç–µ—Ä–º–æ—Ñ–ª–∏—Å\n‚Äî –°–µ–∑–æ–Ω: –û—Å–µ–Ω—å / –ó–∏–º–∞\n\n‚úÖ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:\n‚Ä¢ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è Touch Screen: –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –Ω–∞ –ø–∞–ª—å—Ü–∞—Ö –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º.\n‚Ä¢ –°—Ü–µ–ø–ª–µ–Ω–∏–µ: –°–∏–ª–∏–∫–æ–Ω–æ–≤—ã–µ –Ω–∞—Å–µ—á–∫–∏ –Ω–∞ –ª–∞–¥–æ–Ω—è—Ö –¥–ª—è –ª—É—á—à–µ–≥–æ —Ö–≤–∞—Ç–∞.\n‚Ä¢ –õ–æ–≥–æ—Ç–∏–ø: —É—Å—Ç–æ–π—á–∏–≤ –∫ –∏–∑–Ω–æ—Å—É –∏ —Å—Ç–∏—Ä–∫–∞–º.\n\nüì¶ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è:\n\n1. –ü–µ—Ä—á–∞—Ç–∫–∏ Nike\n2. –§–∏—Ä–º–µ–Ω–Ω—ã–π 3D —Å—Ç–∏–∫–µ—Ä\n3. –ë—Ä–µ–Ω–¥–æ–≤—ã–µ –Ω–æ—Å–∫–∏ Nike (–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –∫ –∑–∞–∫–∞–∑—É)"}
];
const CATS=[{id:"all",name:"üè™ –í—Å–µ"},{id:"electronics",name:"üì± –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"},{id:"clothes",name:"üëï –û–¥–µ–∂–¥–∞"},{id:"home",name:"üè† –î–æ–º"},{id:"other",name:"üì¶ –î—Ä—É–≥–æ–µ"}];
const tg=window.Telegram?.WebApp;
let cart=JSON.parse(localStorage.getItem('cart')||'[]'),favs=JSON.parse(localStorage.getItem('favs')||'[]'),curCat='all',curImgIdx=0,fsImgs=[],fsIdx=0;
document.addEventListener('DOMContentLoaded',()=>{if(localStorage.getItem('theme')==='light')document.body.classList.add('light-theme');renderCats();renderProds();updateCart();updateFav();if(tg)tg.expand()});
function haptic(t){if(tg?.HapticFeedback)tg.HapticFeedback.impactOccurred(t)}
function toggleTheme(){document.body.classList.toggle('light-theme');localStorage.setItem('theme',document.body.classList.contains('light-theme')?'light':'dark');haptic('light')}
function renderCats(){const c=document.getElementById('categories');c.innerHTML=CATS.map(x=>`<button class="cat-btn ${x.id===curCat?'active':''}" onclick="setCat('${x.id}')">${x.name}</button>`).join('')}
function setCat(id){curCat=id;renderCats();renderProds();haptic('light')}
function renderProds(){const s=document.getElementById('search').value.toLowerCase();const p=document.getElementById('products');let items=PRODUCTS;if(curCat!=='all')items=items.filter(x=>x.category===curCat);if(s)items=items.filter(x=>x.name.toLowerCase().includes(s));p.innerHTML=items.map((x,i)=>{const isF=favs.includes(x.id);return `<div class="product" style="animation-delay:${i*0.05}s" onclick="openProd(${x.id})"><button class="product-favorite ${isF?'active':''}" onclick="event.stopPropagation();toggleFav(${x.id})">${isF?'‚ù§Ô∏è':'ü§ç'}</button><img class="product-img" src="${x.image}"><div class="product-name">${x.name}</div><div class="product-price">${x.price}‚ÇΩ</div></div>`}).join('')}
function openProd(id){const x=PRODUCTS.find(p=>p.id===id);if(!x)return;curImgIdx=0;const m=document.getElementById('modal');const b=document.getElementById('modal-box');const imgs=x.images||[x.image];b.innerHTML=`<button class="modal-close" onclick="closeModal()">√ó</button><div class="modal-gallery"><button class="gallery-nav prev" onclick="navGal(-1,${id})">‚Äπ</button><button class="gallery-nav next" onclick="navGal(1,${id})">‚Ä∫</button><img class="modal-img" id="m-img" src="${imgs[0]}" onclick="openFs(${JSON.stringify(imgs).replace(/"/g,'&quot;')},${curImgIdx})"></div><div class="modal-name">${x.name}</div><div class="modal-desc" style="white-space:pre-wrap">${x.description}</div><div class="modal-price-box"><div class="modal-new">${x.price}‚ÇΩ</div></div><div class="modal-btns"><button class="btn btn-cart" onclick="addToCart(${x.id})">üõí –í –∫–æ—Ä–∑–∏–Ω—É</button><button class="btn btn-buy" onclick="askQuestion('${x.name}')">üí¨ –í–æ–ø—Ä–æ—Å</button></div>`;m.classList.add('active');haptic('light')}
function navGal(d,id){const x=PRODUCTS.find(p=>p.id===id);const imgs=x.images||[x.image];curImgIdx=(curImgIdx+d+imgs.length)%imgs.length;document.getElementById('m-img').src=imgs[curImgIdx]}
function closeModal(){document.getElementById('modal').classList.remove('active')}
function toggleFav(id){const i=favs.indexOf(id);if(i>-1)favs.splice(i,1);else favs.push(id);localStorage.setItem('favs',JSON.stringify(favs));updateFav();renderProds();haptic('light')}
function updateFav(){const c=document.getElementById('fav-count');c.style.display=favs.length?'flex':'none';c.innerText=favs.length}
function addToCart(id){const x=cart.find(p=>p.id===id);if(x)x.q++;else cart.push({id,q:1});localStorage.setItem('cart',JSON.stringify(cart));updateCart();showToast('‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ');haptic('success')}
function updateCart(){const b=document.getElementById('cart-btn');const c=document.getElementById('cart-count');const s=document.getElementById('cart-sum');const total=cart.reduce((a,x)=>{const p=PRODUCTS.find(i=>i.id===x.id);return a+(p?p.price*x.q:0)},0);if(cart.length){b.style.display='flex';c.innerText=cart.reduce((a,x)=>a+x.q,0);s.innerText=total+'‚ÇΩ'}else b.style.display='none'}
function openCart(){const a=document.querySelector('.app');window.oldH=a.innerHTML;let items=cart.map(x=>{const p=PRODUCTS.find(i=>i.id===x.id);return `<div class="cart-item"><img src="${p.image}"><div><div>${p.name}</div><div>${p.price}‚ÇΩ x ${x.q}</div></div><button onclick="remCart(${x.id})" style="margin-left:auto;background:0;border:0;color:var(--red-solid);font-size:20px">√ó</button></div>`}).join('');a.innerHTML=`<button onclick="closeCart()" style="position:fixed;top:10px;left:10px;z-index:200;background:rgba(0,0,0,.5);border:0;color:#fff;width:40px;height:40px;border-radius:50%">‚Üê</button><div style="padding:60px 20px">${items}</div><div class="cart-summary"><button class="cart-checkout" onclick="checkout()">–û—Ñ–æ—Ä–º–∏—Ç—å</button></div>`}
function remCart(id){cart=cart.filter(x=>x.id!==id);localStorage.setItem('cart',JSON.stringify(cart));if(!cart.length)closeCart();else openCart();updateCart()}
function closeCart(){document.querySelector('.app').innerHTML=window.oldH;renderCats();renderProds();updateCart();updateFav()}
function askQuestion(n){const m=n?`–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –∑–∞–∫–∞–∑–∞—Ç—å —É –≤–∞—Å: ${n}`:'–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —É –º–µ–Ω—è –≤–æ–ø—Ä–æ—Å.';const url=`https://t.me/${CONTACT_USERNAME}?text=${encodeURIComponent(m)}`;if(tg)tg.openTelegramLink(url);else window.location.href=url}
function checkout(){let m='–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –∑–∞–∫–∞–∑–∞—Ç—å —É –≤–∞—Å:\n\n';cart.forEach((x,i)=>{const p=PRODUCTS.find(j=>j.id===x.id);m+=`${i+1}. ${p.name}\n   ${x.q} —à—Ç √ó ${p.price}‚ÇΩ = ${x.q*p.price}‚ÇΩ\n`});const total=cart.reduce((a,x)=>{const p=PRODUCTS.find(i=>i.id===x.id);return a+(p?p.price*x.q:0)},0);m+=`\n–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ: ${total}‚ÇΩ`;const url=`https://t.me/${CONTACT_USERNAME}?text=${encodeURIComponent(m)}`;if(tg)tg.openTelegramLink(url);else window.location.href=url;cart=[];localStorage.setItem('cart','[]');closeCart();updateCart();confetti()}
function openFs(imgs,idx){fsImgs=imgs;fsIdx=idx;document.getElementById('fs-img').src=imgs[idx];document.getElementById('fs-counter').innerText=`${idx+1}/${imgs.length}`;document.getElementById('fullscreen-viewer').classList.add('active');haptic('light')}
function closeFullscreen(){document.getElementById('fullscreen-viewer').classList.remove('active')}
function showToast(m){const t=document.createElement('div');t.className='toast';t.innerText=m;document.body.appendChild(t);setTimeout(()=>t.remove(),2000)}
function confetti(){for(let i=0;i<50;i++){const c=document.createElement('div');c.className='confetti';c.style.left=Math.random()*100+'vw';c.style.background=['#ff6b6b','#4ade80','#667eea'][Math.floor(Math.random()*3)];c.style.animationDuration=(Math.random()*2+2)+'s';document.body.appendChild(c);setTimeout(()=>c.remove(),3000)}}
document.getElementById('search').addEventListener('input',renderProds);
</script>
</body>
</html>
